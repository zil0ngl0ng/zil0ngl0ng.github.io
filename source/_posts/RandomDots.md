---
title: 在圆形区域内生成均匀分布的点
date: 2024-6-10 15:46:06
categories:
- 面经
mathjax: true
---
网易互娱一面中的一个问题，利用`random()`函数生成圆内均匀分布的点。
<!-- more -->

### 常见的错误答案
选取两个随机变量，一个`(0-360)`的随机角变量，一个`(0-安全区半径)`的距离变量，两个变量组合为一个新的极坐标。但该方法其实会导致，越靠近原点的地方，随机点越密集。

这时就要考虑我们通常认为的`均匀分布`的意义了，点的生成是跟`区域面积`成比例的，上面的错误例子并没有考虑面积，而只是考虑了角度和半径。圆的面积是$\pi r^2$，所以生成点的概率$p$应该是与$r^2$成比例，角度则是均匀采样。所以半径$r$应该服从于sqrt(均匀分布)，这样$r^2$就服从于均匀分布，这样在圆形区域内生成的数据就是均匀分布的了。

### 正确答案
设圆的半径为$R$

我们需要取三个系数，首先是随机系数$t$，$t$是`(0-1)均匀分布`的随机数

半径系数$r$，$r=sqrt(t)∗R$，

角度系数$θ$, $θ=2π∗t$，**要注意r和θ要分别使用两个不同的随机数t来生成**

那么生成的x和y规则为$x=r∗cos(θ)$，$y=r∗sin(θ)$

### 另一个思路 —— 接受-拒绝算法(acceptance-rejection algorithm)

先在矩形内选随机点，然后判断这个点是否在圆内，如果在，则保留，如果不在则舍去。









